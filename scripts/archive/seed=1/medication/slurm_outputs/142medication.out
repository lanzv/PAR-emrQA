2024-05-09 15:15:58 INFO     ------------- Experiment: model ClinicalBERT, frequency threshold 142 ---------------
2024-05-09 15:15:58 INFO     Contexts were splited into 4977 sentence groups, which are 27.19672131147541 groups on average per one report
2024-05-09 15:15:59 INFO     Contexts were splited into 411 paragraphs, which are 2.2459016393442623 paragraphs on average per one report. There are 1 unique topics with frequency threshold (greater or equal) 142. The overall paragraph average length (characters) is 2970.8710462287104
2024-05-09 15:15:59 INFO     Contexts were splited into 818 sentence groups, which are 31.46153846153846 groups on average per one report
2024-05-09 15:15:59 INFO     Contexts were splited into 38 paragraphs, which are 1.4615384615384615 paragraphs on average per one report. There are 1 unique topics with frequency threshold (greater or equal) 142. The overall paragraph average length (characters) is 4822.5526315789475
2024-05-09 15:15:59 INFO     Contexts were splited into 1362 sentence groups, which are 25.69811320754717 groups on average per one report
2024-05-09 15:16:00 WARNING  The evidenc 'CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Food/Drug Interaction Instruction Give with meals
' is in wrong format and it does not occure in the paragraph 'POTENTIALLY SERIOUS INTERACTION: WARFARIN &amp; SIMVASTATIN
Reason for override: already tolerated , home medication ,
aware
CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Starting Today ( 6/25 ) HOLD IF: rash
Food/Drug Interaction Instruction Give with meals
Alert overridden: Override added on 11/4/05 by :
on order for CEFPODOXIME PROXETIL PO ( ref # 703442345 )
Pt. has a POSSIBLE allergy to Penicillins; reaction is
RASH. Reason for override: cannot tolerate floroquinolones
and needs gram neg coverage. has
tolerated cefalosporins well in the past.
'
2024-05-09 15:16:00 INFO     Contexts were splited into 115 paragraphs, which are 2.169811320754717 paragraphs on average per one report. There are 1 unique topics with frequency threshold (greater or equal) 142. The overall paragraph average length (characters) is 2989.6434782608694
2024-05-09 15:16:09 INFO     datasets are converted to Datset format
Some weights of BertForQuestionAnswering were not initialized from the model checkpoint at ../models/Bio_ClinicalBERT and are newly initialized: ['qa_outputs.bias', 'qa_outputs.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2024-05-09 15:20:38 INFO     training data are prepared
/home/lanz/.local/lib/python3.10/site-packages/transformers/training_args.py:1463: FutureWarning: `evaluation_strategy` is deprecated and will be removed in version 4.46 of ðŸ¤— Transformers. Use `eval_strategy` instead
  warnings.warn(
2024-05-09 16:48:09 INFO     the model is trained
2024-05-09 16:53:45 INFO     evaluation data are prepared
2024-05-09 18:04:03 INFO     QA scores: {'exact_match': 29.612130063141617, 'f1': 70.4698552694967}
2024-05-09 18:04:03 INFO     PR scores: {'p@1': 0.9895837807654311, 'p@2': 0.9980885700786049, 'p@3': 0.9993127442979254}
2024-05-09 18:04:05 INFO     PRQA scores: {'exact_match': 29.296421975001074, 'f1': 70.24716392815803}
{'loss': 0.9874, 'grad_norm': 4.327846050262451, 'learning_rate': 2.905452253387961e-05, 'epoch': 0.03151591553734636}
{'loss': 0.6055, 'grad_norm': 3.063063859939575, 'learning_rate': 2.8109045067759222e-05, 'epoch': 0.06303183107469272}
{'loss': 0.5322, 'grad_norm': 9.969552993774414, 'learning_rate': 2.7163567601638827e-05, 'epoch': 0.09454774661203907}
{'loss': 0.5155, 'grad_norm': 2.8126957416534424, 'learning_rate': 2.6218090135518436e-05, 'epoch': 0.12606366214938544}
{'loss': 0.4942, 'grad_norm': 5.060372352600098, 'learning_rate': 2.5272612669398045e-05, 'epoch': 0.1575795776867318}
{'loss': 0.4579, 'grad_norm': 9.569738388061523, 'learning_rate': 2.4327135203277657e-05, 'epoch': 0.18909549322407815}
{'loss': 0.4126, 'grad_norm': 0.018942752853035927, 'learning_rate': 2.3381657737157266e-05, 'epoch': 0.22061140876142452}
{'loss': 0.3774, 'grad_norm': 7.3128743171691895, 'learning_rate': 2.2436180271036874e-05, 'epoch': 0.2521273242987709}
{'loss': 0.3877, 'grad_norm': 8.808515548706055, 'learning_rate': 2.1490702804916483e-05, 'epoch': 0.2836432398361172}
{'loss': 0.3458, 'grad_norm': 10.438324928283691, 'learning_rate': 2.0545225338796092e-05, 'epoch': 0.3151591553734636}
{'loss': 0.3293, 'grad_norm': 8.07735824584961, 'learning_rate': 1.95997478726757e-05, 'epoch': 0.34667507091080996}
{'loss': 0.3166, 'grad_norm': 7.486654281616211, 'learning_rate': 1.8654270406555313e-05, 'epoch': 0.3781909864481563}
{'loss': 0.2787, 'grad_norm': 10.707377433776855, 'learning_rate': 1.7708792940434922e-05, 'epoch': 0.4097069019855027}
{'loss': 0.2728, 'grad_norm': 9.30494499206543, 'learning_rate': 1.6763315474314527e-05, 'epoch': 0.44122281752284903}
{'loss': 0.2816, 'grad_norm': 9.230000495910645, 'learning_rate': 1.5817838008194136e-05, 'epoch': 0.4727387330601954}
{'loss': 0.2442, 'grad_norm': 0.03158550709486008, 'learning_rate': 1.4872360542073748e-05, 'epoch': 0.5042546485975418}
{'loss': 0.2335, 'grad_norm': 0.004275652579963207, 'learning_rate': 1.3926883075953357e-05, 'epoch': 0.5357705641348881}
{'loss': 0.2288, 'grad_norm': 6.6229753494262695, 'learning_rate': 1.2981405609832966e-05, 'epoch': 0.5672864796722344}
{'loss': 0.2097, 'grad_norm': 5.37387228012085, 'learning_rate': 1.2035928143712574e-05, 'epoch': 0.5988023952095808}
{'loss': 0.212, 'grad_norm': 5.482095241546631, 'learning_rate': 1.1090450677592185e-05, 'epoch': 0.6303183107469272}
{'loss': 0.1873, 'grad_norm': 10.917098999023438, 'learning_rate': 1.0144973211471794e-05, 'epoch': 0.6618342262842736}
{'loss': 0.1942, 'grad_norm': 5.853478908538818, 'learning_rate': 9.199495745351403e-06, 'epoch': 0.6933501418216199}
{'loss': 0.1787, 'grad_norm': 15.100716590881348, 'learning_rate': 8.254018279231013e-06, 'epoch': 0.7248660573589663}
{'loss': 0.1687, 'grad_norm': 2.9462263584136963, 'learning_rate': 7.308540813110621e-06, 'epoch': 0.7563819728963126}
{'loss': 0.1623, 'grad_norm': 4.281064510345459, 'learning_rate': 6.3630633469902306e-06, 'epoch': 0.787897888433659}
{'loss': 0.1611, 'grad_norm': 1.2077922821044922, 'learning_rate': 5.417585880869839e-06, 'epoch': 0.8194138039710054}
{'loss': 0.157, 'grad_norm': 1.8524686098098755, 'learning_rate': 4.472108414749448e-06, 'epoch': 0.8509297195083517}
{'loss': 0.1485, 'grad_norm': 12.61121654510498, 'learning_rate': 3.5266309486290578e-06, 'epoch': 0.8824456350456981}
{'loss': 0.1543, 'grad_norm': 0.06083739176392555, 'learning_rate': 2.5811534825086666e-06, 'epoch': 0.9139615505830444}
{'loss': 0.1338, 'grad_norm': 10.939875602722168, 'learning_rate': 1.6356760163882762e-06, 'epoch': 0.9454774661203909}
{'loss': 0.1387, 'grad_norm': 0.2071767896413803, 'learning_rate': 6.901985502678853e-07, 'epoch': 0.9769933816577372}
{'eval_loss': 0.8770718574523926, 'eval_runtime': 1012.1001, 'eval_samples_per_second': 181.344, 'eval_steps_per_second': 0.708, 'epoch': 1.0}
{'train_runtime': 5251.2631, 'train_samples_per_second': 48.339, 'train_steps_per_second': 3.021, 'train_loss': 0.3032217146581631, 'epoch': 1.0}
Post-processing 112098 example predictions split into 424459 features.
{
    "142": {
        "QA": {
            "exact_match": 29.612130063141617,
            "f1": 70.4698552694967
        },
        "PR": {
            "p@1": 0.9895837807654311,
            "p@2": 0.9980885700786049,
            "p@3": 0.9993127442979254
        },
        "PRQA": {
            "exact_match": 29.296421975001074,
            "f1": 70.24716392815803
        }
    }
}
slurmstepd: error: common_file_write_uint32s: write pid 3172865 to /sys/fs/cgroup/cgroup.procs failed: Device or resource busy
slurmstepd: error: Unable to move pid 3172865 to init root cgroup /sys/fs/cgroup
slurmstepd: error: error unlocking cgroup '/sys/fs/cgroup/system.slice/slurmstepd.scope' : Bad file descriptor
