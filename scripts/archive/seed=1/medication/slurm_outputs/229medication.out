2024-05-09 17:26:17 INFO     ------------- Experiment: model ClinicalBERT, frequency threshold 229 ---------------
2024-05-09 17:26:17 INFO     Contexts were splited into 4977 sentence groups, which are 27.19672131147541 groups on average per one report
2024-05-09 17:26:18 INFO     Contexts were splited into 183 paragraphs, which are 1.0 paragraphs on average per one report. There are 0 unique topics with frequency threshold (greater or equal) 229. The overall paragraph average length (characters) is 6672.284153005465
2024-05-09 17:26:18 INFO     Contexts were splited into 818 sentence groups, which are 31.46153846153846 groups on average per one report
2024-05-09 17:26:19 INFO     Contexts were splited into 26 paragraphs, which are 1.0 paragraphs on average per one report. There are 0 unique topics with frequency threshold (greater or equal) 229. The overall paragraph average length (characters) is 7048.346153846154
2024-05-09 17:26:19 INFO     Contexts were splited into 1362 sentence groups, which are 25.69811320754717 groups on average per one report
2024-05-09 17:26:20 WARNING  The evidenc 'CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Food/Drug Interaction Instruction Give with meals
' is in wrong format and it does not occure in the paragraph 'POTENTIALLY SERIOUS INTERACTION: WARFARIN &amp; SIMVASTATIN
Reason for override: already tolerated , home medication ,
aware
CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Starting Today ( 6/25 ) HOLD IF: rash
Food/Drug Interaction Instruction Give with meals
Alert overridden: Override added on 11/4/05 by :
on order for CEFPODOXIME PROXETIL PO ( ref # 703442345 )
Pt. has a POSSIBLE allergy to Penicillins; reaction is
RASH. Reason for override: cannot tolerate floroquinolones
and needs gram neg coverage. has
tolerated cefalosporins well in the past.
'
2024-05-09 17:26:20 INFO     Contexts were splited into 53 paragraphs, which are 1.0 paragraphs on average per one report. There are 0 unique topics with frequency threshold (greater or equal) 229. The overall paragraph average length (characters) is 6486.962264150943
2024-05-09 17:26:28 INFO     datasets are converted to Datset format
Some weights of BertForQuestionAnswering were not initialized from the model checkpoint at ../models/Bio_ClinicalBERT and are newly initialized: ['qa_outputs.bias', 'qa_outputs.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2024-05-09 17:31:35 INFO     training data are prepared
/home/lanz/.local/lib/python3.10/site-packages/transformers/training_args.py:1463: FutureWarning: `evaluation_strategy` is deprecated and will be removed in version 4.46 of ðŸ¤— Transformers. Use `eval_strategy` instead
  warnings.warn(
2024-05-09 19:10:35 INFO     the model is trained
2024-05-09 19:16:07 INFO     evaluation data are prepared
2024-05-09 20:21:22 INFO     QA scores: {'exact_match': 29.21695803444869, 'f1': 70.2795563155427}
2024-05-09 20:21:22 INFO     PR scores: {'p@1': 1.0, 'p@2': 1.0, 'p@3': 1.0}
2024-05-09 20:21:25 INFO     PRQA scores: {'exact_match': 29.21695803444869, 'f1': 70.2795563155427}
{'loss': 0.9468, 'grad_norm': 5.75658655166626, 'learning_rate': 2.916555407209613e-05, 'epoch': 0.027814864263462396}
{'loss': 0.6045, 'grad_norm': 4.036539554595947, 'learning_rate': 2.8331108144192257e-05, 'epoch': 0.05562972852692479}
{'loss': 0.527, 'grad_norm': 4.471635818481445, 'learning_rate': 2.7496662216288386e-05, 'epoch': 0.08344459279038718}
{'loss': 0.4811, 'grad_norm': 8.211716651916504, 'learning_rate': 2.6662216288384514e-05, 'epoch': 0.11125945705384958}
{'loss': 0.4872, 'grad_norm': 4.208871364593506, 'learning_rate': 2.582777036048064e-05, 'epoch': 0.13907432131731198}
{'loss': 0.4338, 'grad_norm': 5.767059326171875, 'learning_rate': 2.499332443257677e-05, 'epoch': 0.16688918558077437}
{'loss': 0.416, 'grad_norm': 8.572375297546387, 'learning_rate': 2.41588785046729e-05, 'epoch': 0.19470404984423675}
{'loss': 0.3957, 'grad_norm': 9.779074668884277, 'learning_rate': 2.3324432576769024e-05, 'epoch': 0.22251891410769917}
{'loss': 0.3648, 'grad_norm': 4.122074604034424, 'learning_rate': 2.2489986648865152e-05, 'epoch': 0.25033377837116155}
{'loss': 0.3502, 'grad_norm': 9.385160446166992, 'learning_rate': 2.1655540720961284e-05, 'epoch': 0.27814864263462397}
{'loss': 0.3439, 'grad_norm': 3.9673805236816406, 'learning_rate': 2.082109479305741e-05, 'epoch': 0.3059635068980863}
{'loss': 0.3189, 'grad_norm': 6.280640602111816, 'learning_rate': 1.9986648865153537e-05, 'epoch': 0.33377837116154874}
{'loss': 0.321, 'grad_norm': 5.861971855163574, 'learning_rate': 1.915220293724967e-05, 'epoch': 0.36159323542501115}
{'loss': 0.261, 'grad_norm': 1.0958884954452515, 'learning_rate': 1.8317757009345794e-05, 'epoch': 0.3894080996884735}
{'loss': 0.2726, 'grad_norm': 7.4434638023376465, 'learning_rate': 1.7483311081441922e-05, 'epoch': 0.4172229639519359}
{'loss': 0.2495, 'grad_norm': 7.936395168304443, 'learning_rate': 1.664886515353805e-05, 'epoch': 0.44503782821539833}
{'loss': 0.2575, 'grad_norm': 10.319040298461914, 'learning_rate': 1.581441922563418e-05, 'epoch': 0.4728526924788607}
{'loss': 0.2378, 'grad_norm': 12.535305976867676, 'learning_rate': 1.4979973297730307e-05, 'epoch': 0.5006675567423231}
{'loss': 0.2135, 'grad_norm': 3.227729320526123, 'learning_rate': 1.4145527369826436e-05, 'epoch': 0.5284824210057855}
{'loss': 0.213, 'grad_norm': 31.10831642150879, 'learning_rate': 1.3311081441922564e-05, 'epoch': 0.5562972852692479}
{'loss': 0.2096, 'grad_norm': 3.2671566009521484, 'learning_rate': 1.2476635514018692e-05, 'epoch': 0.5841121495327103}
{'loss': 0.2088, 'grad_norm': 5.508607864379883, 'learning_rate': 1.164218958611482e-05, 'epoch': 0.6119270137961726}
{'loss': 0.1781, 'grad_norm': 9.604700088500977, 'learning_rate': 1.0807743658210949e-05, 'epoch': 0.6397418780596351}
{'loss': 0.1798, 'grad_norm': 3.400192975997925, 'learning_rate': 9.973297730307076e-06, 'epoch': 0.6675567423230975}
{'loss': 0.1833, 'grad_norm': 13.731363296508789, 'learning_rate': 9.138851802403206e-06, 'epoch': 0.6953716065865598}
{'loss': 0.1569, 'grad_norm': 12.397643089294434, 'learning_rate': 8.304405874499332e-06, 'epoch': 0.7231864708500223}
{'loss': 0.1758, 'grad_norm': 3.8017866611480713, 'learning_rate': 7.469959946595461e-06, 'epoch': 0.7510013351134847}
{'loss': 0.1663, 'grad_norm': 9.534637451171875, 'learning_rate': 6.635514018691589e-06, 'epoch': 0.778816199376947}
{'loss': 0.1639, 'grad_norm': 12.612658500671387, 'learning_rate': 5.801068090787717e-06, 'epoch': 0.8066310636404095}
{'loss': 0.1668, 'grad_norm': 16.430768966674805, 'learning_rate': 4.966622162883845e-06, 'epoch': 0.8344459279038718}
{'loss': 0.1477, 'grad_norm': 20.023296356201172, 'learning_rate': 4.132176234979973e-06, 'epoch': 0.8622607921673342}
{'loss': 0.141, 'grad_norm': 21.621532440185547, 'learning_rate': 3.297730307076102e-06, 'epoch': 0.8900756564307967}
{'loss': 0.1208, 'grad_norm': 12.732438087463379, 'learning_rate': 2.4632843791722297e-06, 'epoch': 0.917890520694259}
{'loss': 0.1441, 'grad_norm': 18.00990867614746, 'learning_rate': 1.6288384512683578e-06, 'epoch': 0.9457053849577214}
{'loss': 0.1457, 'grad_norm': 0.11519217491149902, 'learning_rate': 7.94392523364486e-07, 'epoch': 0.9735202492211839}
{'eval_loss': 0.7909483313560486, 'eval_runtime': 1084.5326, 'eval_samples_per_second': 179.451, 'eval_steps_per_second': 0.702, 'epoch': 1.0}
{'train_runtime': 5939.1785, 'train_samples_per_second': 48.426, 'train_steps_per_second': 3.027, 'train_loss': 0.28674398807615614, 'epoch': 1.0}
Post-processing 46562 example predictions split into 391575 features.
{
    "229": {
        "QA": {
            "exact_match": 29.21695803444869,
            "f1": 70.2795563155427
        },
        "PR": {
            "p@1": 1.0,
            "p@2": 1.0,
            "p@3": 1.0
        },
        "PRQA": {
            "exact_match": 29.21695803444869,
            "f1": 70.2795563155427
        }
    }
}
slurmstepd: error: common_file_write_uint32s: write pid 3173577 to /sys/fs/cgroup/cgroup.procs failed: Device or resource busy
slurmstepd: error: Unable to move pid 3173577 to init root cgroup /sys/fs/cgroup
slurmstepd: error: error unlocking cgroup '/sys/fs/cgroup/system.slice/slurmstepd.scope' : Bad file descriptor
