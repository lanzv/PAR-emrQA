2024-05-11 15:09:06 INFO     ------------- Experiment: model BERTbase, frequency threshold 119 ---------------
2024-05-11 15:09:06 INFO     Contexts were splited into 4977 sentence groups, which are 27.19672131147541 groups on average per one report
2024-05-11 15:09:07 INFO     Contexts were splited into 672 paragraphs, which are 3.6721311475409837 paragraphs on average per one report. There are 3 unique topics with frequency threshold (greater or equal) 119. The overall paragraph average length (characters) is 1817.0059523809523
2024-05-11 15:09:07 INFO     Contexts were splited into 818 sentence groups, which are 31.46153846153846 groups on average per one report
2024-05-11 15:09:08 INFO     Contexts were splited into 58 paragraphs, which are 2.230769230769231 paragraphs on average per one report. There are 3 unique topics with frequency threshold (greater or equal) 119. The overall paragraph average length (characters) is 3159.603448275862
2024-05-11 15:09:08 INFO     Contexts were splited into 1362 sentence groups, which are 25.69811320754717 groups on average per one report
2024-05-11 15:09:09 WARNING  The evidenc 'CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Food/Drug Interaction Instruction Give with meals
' is in wrong format and it does not occure in the paragraph 'POTENTIALLY SERIOUS INTERACTION: WARFARIN &amp; SIMVASTATIN
Reason for override: already tolerated , home medication ,
aware
CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Starting Today ( 6/25 ) HOLD IF: rash
Food/Drug Interaction Instruction Give with meals
Alert overridden: Override added on 11/4/05 by :
on order for CEFPODOXIME PROXETIL PO ( ref # 703442345 )
Pt. has a POSSIBLE allergy to Penicillins; reaction is
RASH. Reason for override: cannot tolerate floroquinolones
and needs gram neg coverage. has
tolerated cefalosporins well in the past.
'
2024-05-11 15:09:09 INFO     Contexts were splited into 184 paragraphs, which are 3.4716981132075473 paragraphs on average per one report. There are 3 unique topics with frequency threshold (greater or equal) 119. The overall paragraph average length (characters) is 1868.5271739130435
2024-05-11 15:09:18 INFO     datasets are converted to Datset format
Some weights of BertForQuestionAnswering were not initialized from the model checkpoint at ../models/bert-base-cased and are newly initialized: ['qa_outputs.bias', 'qa_outputs.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2024-05-11 15:13:52 INFO     training data are prepared
/home/lanz/.local/lib/python3.10/site-packages/transformers/training_args.py:1463: FutureWarning: `evaluation_strategy` is deprecated and will be removed in version 4.46 of ðŸ¤— Transformers. Use `eval_strategy` instead
  warnings.warn(
2024-05-11 16:39:46 INFO     the model is trained
2024-05-11 16:45:45 INFO     evaluation data are prepared
2024-05-11 18:05:52 INFO     QA scores: {'exact_match': 29.16326618272411, 'f1': 69.85424828488193}
2024-05-11 18:05:52 INFO     PR scores: {'p@1': 0.9501095313775182, 'p@2': 0.9928482453502856, 'p@3': 0.997938232893776}
2024-05-11 18:05:55 INFO     PRQA scores: {'exact_match': 28.087281474163483, 'f1': 67.94330923181376}
{'loss': 1.1613, 'grad_norm': 8.935490608215332, 'learning_rate': 2.901393636602682e-05, 'epoch': 0.03286878779910597}
{'loss': 0.7968, 'grad_norm': 6.095760822296143, 'learning_rate': 2.8027872732053642e-05, 'epoch': 0.06573757559821194}
{'loss': 0.7068, 'grad_norm': 12.89141845703125, 'learning_rate': 2.7041809098080463e-05, 'epoch': 0.0986063633973179}
{'loss': 0.6453, 'grad_norm': 11.02541732788086, 'learning_rate': 2.6055745464107287e-05, 'epoch': 0.1314751511964239}
{'loss': 0.5739, 'grad_norm': 14.432616233825684, 'learning_rate': 2.5069681830134108e-05, 'epoch': 0.16434393899552985}
{'loss': 0.5456, 'grad_norm': 28.840301513671875, 'learning_rate': 2.4083618196160925e-05, 'epoch': 0.1972127267946358}
{'loss': 0.5013, 'grad_norm': 11.096332550048828, 'learning_rate': 2.3097554562187746e-05, 'epoch': 0.2300815145937418}
{'loss': 0.479, 'grad_norm': 7.097005844116211, 'learning_rate': 2.2111490928214566e-05, 'epoch': 0.2629503023928478}
{'loss': 0.4601, 'grad_norm': 6.418826580047607, 'learning_rate': 2.1125427294241387e-05, 'epoch': 0.29581909019195374}
{'loss': 0.4209, 'grad_norm': 29.82672691345215, 'learning_rate': 2.013936366026821e-05, 'epoch': 0.3286878779910597}
{'loss': 0.3906, 'grad_norm': 8.477801322937012, 'learning_rate': 1.915330002629503e-05, 'epoch': 0.36155666579016565}
{'loss': 0.3742, 'grad_norm': 7.551248550415039, 'learning_rate': 1.8167236392321852e-05, 'epoch': 0.3944254535892716}
{'loss': 0.3602, 'grad_norm': 7.318462371826172, 'learning_rate': 1.7181172758348673e-05, 'epoch': 0.42729424138837757}
{'loss': 0.3436, 'grad_norm': 16.84803581237793, 'learning_rate': 1.6195109124375494e-05, 'epoch': 0.4601630291874836}
{'loss': 0.3181, 'grad_norm': 9.486064910888672, 'learning_rate': 1.5209045490402316e-05, 'epoch': 0.49303181698658954}
{'loss': 0.2975, 'grad_norm': 9.517247200012207, 'learning_rate': 1.4222981856429135e-05, 'epoch': 0.5259006047856956}
{'loss': 0.2848, 'grad_norm': 14.702508926391602, 'learning_rate': 1.3236918222455956e-05, 'epoch': 0.5587693925848015}
{'loss': 0.2718, 'grad_norm': 17.12825584411621, 'learning_rate': 1.2250854588482778e-05, 'epoch': 0.5916381803839075}
{'loss': 0.2527, 'grad_norm': 11.205827713012695, 'learning_rate': 1.1264790954509597e-05, 'epoch': 0.6245069681830134}
{'loss': 0.2663, 'grad_norm': 10.420536041259766, 'learning_rate': 1.0278727320536418e-05, 'epoch': 0.6573757559821194}
{'loss': 0.2486, 'grad_norm': 7.209420680999756, 'learning_rate': 9.29266368656324e-06, 'epoch': 0.6902445437812254}
{'loss': 0.2363, 'grad_norm': 11.710959434509277, 'learning_rate': 8.306600052590061e-06, 'epoch': 0.7231133315803313}
{'loss': 0.2201, 'grad_norm': 16.55106544494629, 'learning_rate': 7.320536418616882e-06, 'epoch': 0.7559821193794373}
{'loss': 0.1965, 'grad_norm': 5.9364728927612305, 'learning_rate': 6.334472784643702e-06, 'epoch': 0.7888509071785432}
{'loss': 0.2007, 'grad_norm': 15.79620361328125, 'learning_rate': 5.348409150670524e-06, 'epoch': 0.8217196949776492}
{'loss': 0.1953, 'grad_norm': 11.075075149536133, 'learning_rate': 4.3623455166973445e-06, 'epoch': 0.8545884827767551}
{'loss': 0.2033, 'grad_norm': 11.556499481201172, 'learning_rate': 3.376281882724165e-06, 'epoch': 0.8874572705758612}
{'loss': 0.1859, 'grad_norm': 31.414560317993164, 'learning_rate': 2.3902182487509863e-06, 'epoch': 0.9203260583749672}
{'loss': 0.1613, 'grad_norm': 11.621583938598633, 'learning_rate': 1.404154614777807e-06, 'epoch': 0.9531948461740731}
{'loss': 0.1709, 'grad_norm': 7.637793064117432, 'learning_rate': 4.1809098080462795e-07, 'epoch': 0.9860636339731791}
{'eval_loss': 0.8110802173614502, 'eval_runtime': 1052.0391, 'eval_samples_per_second': 179.876, 'eval_steps_per_second': 0.703, 'epoch': 1.0}
{'train_runtime': 5152.7825, 'train_samples_per_second': 47.234, 'train_steps_per_second': 2.952, 'train_loss': 0.3796630666784446, 'epoch': 1.0}
Post-processing 172858 example predictions split into 478989 features.
{
    "119": {
        "QA": {
            "exact_match": 29.16326618272411,
            "f1": 69.85424828488193
        },
        "PR": {
            "p@1": 0.9501095313775182,
            "p@2": 0.9928482453502856,
            "p@3": 0.997938232893776
        },
        "PRQA": {
            "exact_match": 28.087281474163483,
            "f1": 67.94330923181376
        }
    }
}
slurmstepd: error: common_file_write_uint32s: write pid 2670352 to /sys/fs/cgroup/cgroup.procs failed: Device or resource busy
slurmstepd: error: Unable to move pid 2670352 to init root cgroup /sys/fs/cgroup
slurmstepd: error: error unlocking cgroup '/sys/fs/cgroup/system.slice/slurmstepd.scope' : Bad file descriptor
