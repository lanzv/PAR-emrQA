2024-05-11 15:10:46 INFO     ------------- Experiment: model BERTbase, frequency threshold 142 ---------------
2024-05-11 15:10:46 INFO     Contexts were splited into 4977 sentence groups, which are 27.19672131147541 groups on average per one report
2024-05-11 15:10:47 INFO     Contexts were splited into 411 paragraphs, which are 2.2459016393442623 paragraphs on average per one report. There are 1 unique topics with frequency threshold (greater or equal) 142. The overall paragraph average length (characters) is 2970.8710462287104
2024-05-11 15:10:47 INFO     Contexts were splited into 818 sentence groups, which are 31.46153846153846 groups on average per one report
2024-05-11 15:10:48 INFO     Contexts were splited into 38 paragraphs, which are 1.4615384615384615 paragraphs on average per one report. There are 1 unique topics with frequency threshold (greater or equal) 142. The overall paragraph average length (characters) is 4822.5526315789475
2024-05-11 15:10:48 INFO     Contexts were splited into 1362 sentence groups, which are 25.69811320754717 groups on average per one report
2024-05-11 15:10:49 WARNING  The evidenc 'CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Food/Drug Interaction Instruction Give with meals
' is in wrong format and it does not occure in the paragraph 'POTENTIALLY SERIOUS INTERACTION: WARFARIN &amp; SIMVASTATIN
Reason for override: already tolerated , home medication ,
aware
CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Starting Today ( 6/25 ) HOLD IF: rash
Food/Drug Interaction Instruction Give with meals
Alert overridden: Override added on 11/4/05 by :
on order for CEFPODOXIME PROXETIL PO ( ref # 703442345 )
Pt. has a POSSIBLE allergy to Penicillins; reaction is
RASH. Reason for override: cannot tolerate floroquinolones
and needs gram neg coverage. has
tolerated cefalosporins well in the past.
'
2024-05-11 15:10:49 INFO     Contexts were splited into 115 paragraphs, which are 2.169811320754717 paragraphs on average per one report. There are 1 unique topics with frequency threshold (greater or equal) 142. The overall paragraph average length (characters) is 2989.6434782608694
2024-05-11 15:10:57 INFO     datasets are converted to Datset format
Some weights of BertForQuestionAnswering were not initialized from the model checkpoint at ../models/bert-base-cased and are newly initialized: ['qa_outputs.bias', 'qa_outputs.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2024-05-11 15:15:46 INFO     training data are prepared
/home/lanz/.local/lib/python3.10/site-packages/transformers/training_args.py:1463: FutureWarning: `evaluation_strategy` is deprecated and will be removed in version 4.46 of ðŸ¤— Transformers. Use `eval_strategy` instead
  warnings.warn(
2024-05-11 16:51:02 INFO     the model is trained
2024-05-11 16:56:44 INFO     evaluation data are prepared
2024-05-11 18:12:21 INFO     QA scores: {'exact_match': 29.13534641982733, 'f1': 68.40123327518668}
2024-05-11 18:12:21 INFO     PR scores: {'p@1': 0.9838709677419355, 'p@2': 0.9949100124565096, 'p@3': 0.9986684420772304}
2024-05-11 18:12:23 INFO     PRQA scores: {'exact_match': 28.643529058030154, 'f1': 67.83272862835656}
{'loss': 1.0682, 'grad_norm': 7.012070655822754, 'learning_rate': 2.9133448873483536e-05, 'epoch': 0.028885037550548817}
{'loss': 0.7395, 'grad_norm': 7.272559642791748, 'learning_rate': 2.826689774696707e-05, 'epoch': 0.057770075101097634}
{'loss': 0.6459, 'grad_norm': 8.271746635437012, 'learning_rate': 2.7400346620450606e-05, 'epoch': 0.08665511265164645}
{'loss': 0.6026, 'grad_norm': 11.299269676208496, 'learning_rate': 2.6533795493934144e-05, 'epoch': 0.11554015020219527}
{'loss': 0.5735, 'grad_norm': 12.155421257019043, 'learning_rate': 2.566724436741768e-05, 'epoch': 0.14442518775274407}
{'loss': 0.5394, 'grad_norm': 8.951919555664062, 'learning_rate': 2.4800693240901214e-05, 'epoch': 0.1733102253032929}
{'loss': 0.4857, 'grad_norm': 7.460663795471191, 'learning_rate': 2.393414211438475e-05, 'epoch': 0.2021952628538417}
{'loss': 0.4545, 'grad_norm': 7.395042419433594, 'learning_rate': 2.3067590987868284e-05, 'epoch': 0.23108030040439054}
{'loss': 0.4384, 'grad_norm': 14.28787899017334, 'learning_rate': 2.220103986135182e-05, 'epoch': 0.25996533795493937}
{'loss': 0.3985, 'grad_norm': 7.331110954284668, 'learning_rate': 2.1334488734835354e-05, 'epoch': 0.28885037550548814}
{'loss': 0.384, 'grad_norm': 8.202577590942383, 'learning_rate': 2.0467937608318892e-05, 'epoch': 0.317735413056037}
{'loss': 0.3794, 'grad_norm': 6.565774917602539, 'learning_rate': 1.9601386481802427e-05, 'epoch': 0.3466204506065858}
{'loss': 0.3415, 'grad_norm': 4.003615856170654, 'learning_rate': 1.8734835355285962e-05, 'epoch': 0.3755054881571346}
{'loss': 0.348, 'grad_norm': 0.04090970754623413, 'learning_rate': 1.7868284228769497e-05, 'epoch': 0.4043905257076834}
{'loss': 0.3094, 'grad_norm': 11.063981056213379, 'learning_rate': 1.7001733102253032e-05, 'epoch': 0.43327556325823224}
{'loss': 0.3033, 'grad_norm': 12.455763816833496, 'learning_rate': 1.6135181975736567e-05, 'epoch': 0.4621606008087811}
{'loss': 0.2949, 'grad_norm': 12.566495895385742, 'learning_rate': 1.5268630849220102e-05, 'epoch': 0.49104563835932985}
{'loss': 0.2571, 'grad_norm': 10.286282539367676, 'learning_rate': 1.440207972270364e-05, 'epoch': 0.5199306759098787}
{'loss': 0.2553, 'grad_norm': 18.064237594604492, 'learning_rate': 1.3535528596187175e-05, 'epoch': 0.5488157134604275}
{'loss': 0.247, 'grad_norm': 12.108009338378906, 'learning_rate': 1.2668977469670712e-05, 'epoch': 0.5777007510109763}
{'loss': 0.2323, 'grad_norm': 1.2575687170028687, 'learning_rate': 1.1802426343154247e-05, 'epoch': 0.6065857885615251}
{'loss': 0.2261, 'grad_norm': 15.645079612731934, 'learning_rate': 1.0935875216637782e-05, 'epoch': 0.635470826112074}
{'loss': 0.2241, 'grad_norm': 42.004356384277344, 'learning_rate': 1.0069324090121317e-05, 'epoch': 0.6643558636626228}
{'loss': 0.2123, 'grad_norm': 0.7786117792129517, 'learning_rate': 9.202772963604853e-06, 'epoch': 0.6932409012131716}
{'loss': 0.198, 'grad_norm': 7.641533374786377, 'learning_rate': 8.336221837088388e-06, 'epoch': 0.7221259387637204}
{'loss': 0.1874, 'grad_norm': 19.52425765991211, 'learning_rate': 7.469670710571924e-06, 'epoch': 0.7510109763142692}
{'loss': 0.1798, 'grad_norm': 10.551984786987305, 'learning_rate': 6.60311958405546e-06, 'epoch': 0.779896013864818}
{'loss': 0.1739, 'grad_norm': 9.846068382263184, 'learning_rate': 5.736568457538995e-06, 'epoch': 0.8087810514153668}
{'loss': 0.1729, 'grad_norm': 12.202621459960938, 'learning_rate': 4.8700173310225305e-06, 'epoch': 0.8376660889659157}
{'loss': 0.1708, 'grad_norm': 11.796730995178223, 'learning_rate': 4.003466204506066e-06, 'epoch': 0.8665511265164645}
{'loss': 0.1547, 'grad_norm': 19.771913528442383, 'learning_rate': 3.1369150779896012e-06, 'epoch': 0.8954361640670133}
{'loss': 0.1569, 'grad_norm': 9.744312286376953, 'learning_rate': 2.270363951473137e-06, 'epoch': 0.9243212016175621}
{'loss': 0.1694, 'grad_norm': 17.769147872924805, 'learning_rate': 1.4038128249566724e-06, 'epoch': 0.9532062391681109}
{'loss': 0.1493, 'grad_norm': 2.9005579948425293, 'learning_rate': 5.37261698440208e-07, 'epoch': 0.9820912767186597}
{'eval_loss': 0.7840282320976257, 'eval_runtime': 1088.5422, 'eval_samples_per_second': 181.111, 'eval_steps_per_second': 0.708, 'epoch': 1.0}
{'train_runtime': 5715.2161, 'train_samples_per_second': 48.459, 'train_steps_per_second': 3.029, 'train_loss': 0.3397748412733337, 'epoch': 1.0}
Post-processing 112098 example predictions split into 456984 features.
{
    "142": {
        "QA": {
            "exact_match": 29.13534641982733,
            "f1": 68.40123327518668
        },
        "PR": {
            "p@1": 0.9838709677419355,
            "p@2": 0.9949100124565096,
            "p@3": 0.9986684420772304
        },
        "PRQA": {
            "exact_match": 28.643529058030154,
            "f1": 67.83272862835656
        }
    }
}
slurmstepd: error: common_file_write_uint32s: write pid 3191632 to /sys/fs/cgroup/cgroup.procs failed: Device or resource busy
slurmstepd: error: Unable to move pid 3191632 to init root cgroup /sys/fs/cgroup
slurmstepd: error: error unlocking cgroup '/sys/fs/cgroup/system.slice/slurmstepd.scope' : Bad file descriptor
