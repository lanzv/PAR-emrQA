2024-05-11 12:22:38 INFO     ------------- Experiment: model ClinicalBERT, frequency threshold 142 ---------------
2024-05-11 12:22:39 INFO     Contexts were splited into 4977 sentence groups, which are 27.19672131147541 groups on average per one report
2024-05-11 12:22:39 INFO     Contexts were splited into 411 paragraphs, which are 2.2459016393442623 paragraphs on average per one report. There are 1 unique topics with frequency threshold (greater or equal) 142. The overall paragraph average length (characters) is 2970.8710462287104
2024-05-11 12:22:39 INFO     Contexts were splited into 818 sentence groups, which are 31.46153846153846 groups on average per one report
2024-05-11 12:22:40 INFO     Contexts were splited into 38 paragraphs, which are 1.4615384615384615 paragraphs on average per one report. There are 1 unique topics with frequency threshold (greater or equal) 142. The overall paragraph average length (characters) is 4822.5526315789475
2024-05-11 12:22:40 INFO     Contexts were splited into 1362 sentence groups, which are 25.69811320754717 groups on average per one report
2024-05-11 12:22:41 WARNING  The evidenc 'CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Food/Drug Interaction Instruction Give with meals
' is in wrong format and it does not occure in the paragraph 'POTENTIALLY SERIOUS INTERACTION: WARFARIN &amp; SIMVASTATIN
Reason for override: already tolerated , home medication ,
aware
CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Starting Today ( 6/25 ) HOLD IF: rash
Food/Drug Interaction Instruction Give with meals
Alert overridden: Override added on 11/4/05 by :
on order for CEFPODOXIME PROXETIL PO ( ref # 703442345 )
Pt. has a POSSIBLE allergy to Penicillins; reaction is
RASH. Reason for override: cannot tolerate floroquinolones
and needs gram neg coverage. has
tolerated cefalosporins well in the past.
'
2024-05-11 12:22:41 INFO     Contexts were splited into 115 paragraphs, which are 2.169811320754717 paragraphs on average per one report. There are 1 unique topics with frequency threshold (greater or equal) 142. The overall paragraph average length (characters) is 2989.6434782608694
2024-05-11 12:22:49 INFO     datasets are converted to Datset format
Some weights of BertForQuestionAnswering were not initialized from the model checkpoint at ../models/Bio_ClinicalBERT and are newly initialized: ['qa_outputs.bias', 'qa_outputs.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2024-05-11 12:27:21 INFO     training data are prepared
/home/lanz/.local/lib/python3.10/site-packages/transformers/training_args.py:1463: FutureWarning: `evaluation_strategy` is deprecated and will be removed in version 4.46 of ðŸ¤— Transformers. Use `eval_strategy` instead
  warnings.warn(
2024-05-11 13:54:46 INFO     the model is trained
2024-05-11 14:00:22 INFO     evaluation data are prepared
2024-05-11 15:10:32 INFO     QA scores: {'exact_match': 29.408101026588206, 'f1': 70.55107291517025}
2024-05-11 15:10:32 INFO     PR scores: {'p@1': 0.9882951763240411, 'p@2': 0.9971865469696319, 'p@3': 0.9993986512606847}
2024-05-11 15:10:35 INFO     PRQA scores: {'exact_match': 28.828229027962717, 'f1': 70.19425845936073}
{'loss': 1.0053, 'grad_norm': 4.528891086578369, 'learning_rate': 2.90551776266062e-05, 'epoch': 0.03149407911312673}
{'loss': 0.6228, 'grad_norm': 9.391530990600586, 'learning_rate': 2.8110355253212397e-05, 'epoch': 0.06298815822625346}
{'loss': 0.5507, 'grad_norm': 1.871570110321045, 'learning_rate': 2.7165532879818594e-05, 'epoch': 0.0944822373393802}
{'loss': 0.5052, 'grad_norm': 5.205996036529541, 'learning_rate': 2.6220710506424792e-05, 'epoch': 0.12597631645250693}
{'loss': 0.496, 'grad_norm': 9.035331726074219, 'learning_rate': 2.527588813303099e-05, 'epoch': 0.15747039556563366}
{'loss': 0.4432, 'grad_norm': 13.30644416809082, 'learning_rate': 2.4331065759637188e-05, 'epoch': 0.1889644746787604}
{'loss': 0.4326, 'grad_norm': 10.462898254394531, 'learning_rate': 2.3386243386243386e-05, 'epoch': 0.2204585537918871}
{'loss': 0.3944, 'grad_norm': 10.952119827270508, 'learning_rate': 2.2441421012849584e-05, 'epoch': 0.25195263290501385}
{'loss': 0.3939, 'grad_norm': 9.954695701599121, 'learning_rate': 2.1496598639455785e-05, 'epoch': 0.2834467120181406}
{'loss': 0.3689, 'grad_norm': 10.074540138244629, 'learning_rate': 2.0551776266061983e-05, 'epoch': 0.31494079113126733}
{'loss': 0.3434, 'grad_norm': 12.830327033996582, 'learning_rate': 1.960695389266818e-05, 'epoch': 0.34643487024439407}
{'loss': 0.3205, 'grad_norm': 12.41572380065918, 'learning_rate': 1.866213151927438e-05, 'epoch': 0.3779289493575208}
{'loss': 0.2959, 'grad_norm': 5.2383551597595215, 'learning_rate': 1.7717309145880577e-05, 'epoch': 0.40942302847064754}
{'loss': 0.2792, 'grad_norm': 10.9773530960083, 'learning_rate': 1.6772486772486774e-05, 'epoch': 0.4409171075837742}
{'loss': 0.2703, 'grad_norm': 9.405736923217773, 'learning_rate': 1.5827664399092972e-05, 'epoch': 0.47241118669690096}
{'loss': 0.2475, 'grad_norm': 8.04951286315918, 'learning_rate': 1.488284202569917e-05, 'epoch': 0.5039052658100277}
{'loss': 0.2477, 'grad_norm': 0.00728536257520318, 'learning_rate': 1.3938019652305366e-05, 'epoch': 0.5353993449231544}
{'loss': 0.2431, 'grad_norm': 22.294647216796875, 'learning_rate': 1.2993197278911564e-05, 'epoch': 0.5668934240362812}
{'loss': 0.2361, 'grad_norm': 1.0266324281692505, 'learning_rate': 1.2048374905517762e-05, 'epoch': 0.5983875031494079}
{'loss': 0.2321, 'grad_norm': 4.515728950500488, 'learning_rate': 1.110355253212396e-05, 'epoch': 0.6298815822625347}
{'loss': 0.2132, 'grad_norm': 17.171192169189453, 'learning_rate': 1.0158730158730158e-05, 'epoch': 0.6613756613756614}
{'loss': 0.2004, 'grad_norm': 11.734387397766113, 'learning_rate': 9.213907785336356e-06, 'epoch': 0.6928697404887881}
{'loss': 0.1891, 'grad_norm': 0.11996788531541824, 'learning_rate': 8.269085411942555e-06, 'epoch': 0.7243638196019149}
{'loss': 0.1838, 'grad_norm': 18.2735652923584, 'learning_rate': 7.324263038548753e-06, 'epoch': 0.7558578987150416}
{'loss': 0.169, 'grad_norm': 10.907039642333984, 'learning_rate': 6.379440665154951e-06, 'epoch': 0.7873519778281683}
{'loss': 0.1689, 'grad_norm': 13.406310081481934, 'learning_rate': 5.434618291761149e-06, 'epoch': 0.8188460569412951}
{'loss': 0.1611, 'grad_norm': 6.2669782638549805, 'learning_rate': 4.489795918367347e-06, 'epoch': 0.8503401360544217}
{'loss': 0.1735, 'grad_norm': 16.636343002319336, 'learning_rate': 3.544973544973545e-06, 'epoch': 0.8818342151675485}
{'loss': 0.1569, 'grad_norm': 15.43829345703125, 'learning_rate': 2.600151171579743e-06, 'epoch': 0.9133282942806752}
{'loss': 0.1432, 'grad_norm': 2.901017665863037, 'learning_rate': 1.6553287981859412e-06, 'epoch': 0.9448223733938019}
{'loss': 0.1516, 'grad_norm': 13.858795166015625, 'learning_rate': 7.105064247921391e-07, 'epoch': 0.9763164525069287}
{'eval_loss': 0.8202868103981018, 'eval_runtime': 1010.3789, 'eval_samples_per_second': 181.653, 'eval_steps_per_second': 0.71, 'epoch': 1.0}
{'train_runtime': 5244.8677, 'train_samples_per_second': 48.43, 'train_steps_per_second': 3.027, 'train_loss': 0.3133283330619891, 'epoch': 1.0}
Post-processing 112098 example predictions split into 424459 features.
{
    "142": {
        "QA": {
            "exact_match": 29.408101026588206,
            "f1": 70.55107291517025
        },
        "PR": {
            "p@1": 0.9882951763240411,
            "p@2": 0.9971865469696319,
            "p@3": 0.9993986512606847
        },
        "PRQA": {
            "exact_match": 28.828229027962717,
            "f1": 70.19425845936073
        }
    }
}
slurmstepd: error: common_file_write_uint32s: write pid 3187662 to /sys/fs/cgroup/cgroup.procs failed: Device or resource busy
slurmstepd: error: Unable to move pid 3187662 to init root cgroup /sys/fs/cgroup
slurmstepd: error: error unlocking cgroup '/sys/fs/cgroup/system.slice/slurmstepd.scope' : Bad file descriptor
