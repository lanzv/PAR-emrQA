2024-05-11 12:22:38 INFO     ------------- Experiment: model ClinicalBERT, frequency threshold 229 ---------------
2024-05-11 12:22:39 INFO     Contexts were splited into 4977 sentence groups, which are 27.19672131147541 groups on average per one report
2024-05-11 12:22:39 INFO     Contexts were splited into 183 paragraphs, which are 1.0 paragraphs on average per one report. There are 0 unique topics with frequency threshold (greater or equal) 229. The overall paragraph average length (characters) is 6672.284153005465
2024-05-11 12:22:39 INFO     Contexts were splited into 818 sentence groups, which are 31.46153846153846 groups on average per one report
2024-05-11 12:22:40 INFO     Contexts were splited into 26 paragraphs, which are 1.0 paragraphs on average per one report. There are 0 unique topics with frequency threshold (greater or equal) 229. The overall paragraph average length (characters) is 7048.346153846154
2024-05-11 12:22:40 INFO     Contexts were splited into 1362 sentence groups, which are 25.69811320754717 groups on average per one report
2024-05-11 12:22:41 WARNING  The evidenc 'CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Food/Drug Interaction Instruction Give with meals
' is in wrong format and it does not occure in the paragraph 'POTENTIALLY SERIOUS INTERACTION: WARFARIN &amp; SIMVASTATIN
Reason for override: already tolerated , home medication ,
aware
CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Starting Today ( 6/25 ) HOLD IF: rash
Food/Drug Interaction Instruction Give with meals
Alert overridden: Override added on 11/4/05 by :
on order for CEFPODOXIME PROXETIL PO ( ref # 703442345 )
Pt. has a POSSIBLE allergy to Penicillins; reaction is
RASH. Reason for override: cannot tolerate floroquinolones
and needs gram neg coverage. has
tolerated cefalosporins well in the past.
'
2024-05-11 12:22:41 INFO     Contexts were splited into 53 paragraphs, which are 1.0 paragraphs on average per one report. There are 0 unique topics with frequency threshold (greater or equal) 229. The overall paragraph average length (characters) is 6486.962264150943
2024-05-11 12:22:50 INFO     datasets are converted to Datset format
Some weights of BertForQuestionAnswering were not initialized from the model checkpoint at ../models/Bio_ClinicalBERT and are newly initialized: ['qa_outputs.bias', 'qa_outputs.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2024-05-11 12:27:49 INFO     training data are prepared
/home/lanz/.local/lib/python3.10/site-packages/transformers/training_args.py:1463: FutureWarning: `evaluation_strategy` is deprecated and will be removed in version 4.46 of ðŸ¤— Transformers. Use `eval_strategy` instead
  warnings.warn(
2024-05-11 14:06:39 INFO     the model is trained
2024-05-11 14:12:01 INFO     evaluation data are prepared
2024-05-11 15:17:14 INFO     QA scores: {'exact_match': 29.86126025514368, 'f1': 70.91104191994097}
2024-05-11 15:17:14 INFO     PR scores: {'p@1': 1.0, 'p@2': 1.0, 'p@3': 1.0}
2024-05-11 15:17:17 INFO     PRQA scores: {'exact_match': 29.86126025514368, 'f1': 70.91104191994097}
{'loss': 0.9555, 'grad_norm': 4.974091053009033, 'learning_rate': 2.9165507649513212e-05, 'epoch': 0.027816411682892908}
{'loss': 0.59, 'grad_norm': 7.189673900604248, 'learning_rate': 2.8331015299026427e-05, 'epoch': 0.055632823365785816}
{'loss': 0.5244, 'grad_norm': 5.174580097198486, 'learning_rate': 2.7496522948539638e-05, 'epoch': 0.08344923504867872}
{'loss': 0.4715, 'grad_norm': 9.625754356384277, 'learning_rate': 2.6662030598052852e-05, 'epoch': 0.11126564673157163}
{'loss': 0.4493, 'grad_norm': 12.098456382751465, 'learning_rate': 2.5827538247566064e-05, 'epoch': 0.13908205841446453}
{'loss': 0.4248, 'grad_norm': 1.6577205657958984, 'learning_rate': 2.4993045897079275e-05, 'epoch': 0.16689847009735745}
{'loss': 0.4312, 'grad_norm': 7.364650726318359, 'learning_rate': 2.4158553546592493e-05, 'epoch': 0.19471488178025034}
{'loss': 0.3737, 'grad_norm': 5.79725980758667, 'learning_rate': 2.3324061196105704e-05, 'epoch': 0.22253129346314326}
{'loss': 0.3548, 'grad_norm': 3.565253973007202, 'learning_rate': 2.2489568845618915e-05, 'epoch': 0.25034770514603616}
{'loss': 0.3525, 'grad_norm': 8.723310470581055, 'learning_rate': 2.165507649513213e-05, 'epoch': 0.27816411682892905}
{'loss': 0.3211, 'grad_norm': 7.068957805633545, 'learning_rate': 2.082058414464534e-05, 'epoch': 0.30598052851182195}
{'loss': 0.3035, 'grad_norm': 4.9130539894104, 'learning_rate': 1.9986091794158556e-05, 'epoch': 0.3337969401947149}
{'loss': 0.3008, 'grad_norm': 6.474304676055908, 'learning_rate': 1.9151599443671767e-05, 'epoch': 0.3616133518776078}
{'loss': 0.284, 'grad_norm': 13.144993782043457, 'learning_rate': 1.8317107093184978e-05, 'epoch': 0.3894297635605007}
{'loss': 0.2543, 'grad_norm': 17.425628662109375, 'learning_rate': 1.7482614742698193e-05, 'epoch': 0.4172461752433936}
{'loss': 0.2624, 'grad_norm': 6.72698974609375, 'learning_rate': 1.6648122392211404e-05, 'epoch': 0.44506258692628653}
{'loss': 0.2331, 'grad_norm': 4.075026035308838, 'learning_rate': 1.581363004172462e-05, 'epoch': 0.4728789986091794}
{'loss': 0.2215, 'grad_norm': 6.06742000579834, 'learning_rate': 1.4979137691237832e-05, 'epoch': 0.5006954102920723}
{'loss': 0.2046, 'grad_norm': 0.22600314021110535, 'learning_rate': 1.4144645340751044e-05, 'epoch': 0.5285118219749653}
{'loss': 0.2039, 'grad_norm': 7.607151031494141, 'learning_rate': 1.3310152990264256e-05, 'epoch': 0.5563282336578581}
{'loss': 0.2009, 'grad_norm': 13.5797700881958, 'learning_rate': 1.2475660639777469e-05, 'epoch': 0.5841446453407511}
{'loss': 0.1888, 'grad_norm': 11.494868278503418, 'learning_rate': 1.1641168289290681e-05, 'epoch': 0.6119610570236439}
{'loss': 0.1957, 'grad_norm': 2.7386202812194824, 'learning_rate': 1.0806675938803894e-05, 'epoch': 0.6397774687065368}
{'loss': 0.1814, 'grad_norm': 18.172483444213867, 'learning_rate': 9.972183588317107e-06, 'epoch': 0.6675938803894298}
{'loss': 0.1642, 'grad_norm': 12.323423385620117, 'learning_rate': 9.13769123783032e-06, 'epoch': 0.6954102920723226}
{'loss': 0.1556, 'grad_norm': 0.040812090039253235, 'learning_rate': 8.303198887343533e-06, 'epoch': 0.7232267037552156}
{'loss': 0.1598, 'grad_norm': 0.053817301988601685, 'learning_rate': 7.468706536856746e-06, 'epoch': 0.7510431154381085}
{'loss': 0.1505, 'grad_norm': 0.36378535628318787, 'learning_rate': 6.634214186369958e-06, 'epoch': 0.7788595271210014}
{'loss': 0.1523, 'grad_norm': 5.990874767303467, 'learning_rate': 5.799721835883171e-06, 'epoch': 0.8066759388038943}
{'loss': 0.139, 'grad_norm': 18.42572784423828, 'learning_rate': 4.965229485396384e-06, 'epoch': 0.8344923504867872}
{'loss': 0.1394, 'grad_norm': 3.0399727821350098, 'learning_rate': 4.130737134909597e-06, 'epoch': 0.8623087621696801}
{'loss': 0.1157, 'grad_norm': 21.907615661621094, 'learning_rate': 3.2962447844228098e-06, 'epoch': 0.8901251738525731}
{'loss': 0.1382, 'grad_norm': 9.64225959777832, 'learning_rate': 2.4617524339360222e-06, 'epoch': 0.9179415855354659}
{'loss': 0.1107, 'grad_norm': 13.36465072631836, 'learning_rate': 1.627260083449235e-06, 'epoch': 0.9457579972183588}
{'loss': 0.1162, 'grad_norm': 15.489276885986328, 'learning_rate': 7.927677329624479e-07, 'epoch': 0.9735744089012517}
{'eval_loss': 0.8145164251327515, 'eval_runtime': 1084.0818, 'eval_samples_per_second': 179.526, 'eval_steps_per_second': 0.702, 'epoch': 1.0}
{'train_runtime': 5928.9103, 'train_samples_per_second': 48.508, 'train_steps_per_second': 3.032, 'train_loss': 0.2760191614737265, 'epoch': 1.0}
Post-processing 46562 example predictions split into 391575 features.
{
    "229": {
        "QA": {
            "exact_match": 29.86126025514368,
            "f1": 70.91104191994097
        },
        "PR": {
            "p@1": 1.0,
            "p@2": 1.0,
            "p@3": 1.0
        },
        "PRQA": {
            "exact_match": 29.86126025514368,
            "f1": 70.91104191994097
        }
    }
}
slurmstepd: error: common_file_write_uint32s: write pid 3187663 to /sys/fs/cgroup/cgroup.procs failed: Device or resource busy
slurmstepd: error: Unable to move pid 3187663 to init root cgroup /sys/fs/cgroup
slurmstepd: error: error unlocking cgroup '/sys/fs/cgroup/system.slice/slurmstepd.scope' : Bad file descriptor
