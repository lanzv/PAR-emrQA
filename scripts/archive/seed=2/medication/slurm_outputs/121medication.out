2024-05-11 12:22:39 INFO     ------------- Experiment: model ClinicalBERT, frequency threshold 121 ---------------
2024-05-11 12:22:39 INFO     Contexts were splited into 4977 sentence groups, which are 27.19672131147541 groups on average per one report
2024-05-11 12:22:40 INFO     Contexts were splited into 552 paragraphs, which are 3.0163934426229506 paragraphs on average per one report. There are 2 unique topics with frequency threshold (greater or equal) 121. The overall paragraph average length (characters) is 2212.0072463768115
2024-05-11 12:22:40 INFO     Contexts were splited into 818 sentence groups, which are 31.46153846153846 groups on average per one report
2024-05-11 12:22:41 INFO     Contexts were splited into 44 paragraphs, which are 1.6923076923076923 paragraphs on average per one report. There are 2 unique topics with frequency threshold (greater or equal) 121. The overall paragraph average length (characters) is 4164.931818181818
2024-05-11 12:22:41 INFO     Contexts were splited into 1362 sentence groups, which are 25.69811320754717 groups on average per one report
2024-05-11 12:22:42 WARNING  The evidenc 'CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Food/Drug Interaction Instruction Give with meals
' is in wrong format and it does not occure in the paragraph 'POTENTIALLY SERIOUS INTERACTION: WARFARIN &amp; SIMVASTATIN
Reason for override: already tolerated , home medication ,
aware
CEFPODOXIME PROXETIL 200 MG PO BID X 16 doses
Starting Today ( 6/25 ) HOLD IF: rash
Food/Drug Interaction Instruction Give with meals
Alert overridden: Override added on 11/4/05 by :
on order for CEFPODOXIME PROXETIL PO ( ref # 703442345 )
Pt. has a POSSIBLE allergy to Penicillins; reaction is
RASH. Reason for override: cannot tolerate floroquinolones
and needs gram neg coverage. has
tolerated cefalosporins well in the past.
'
2024-05-11 12:22:42 INFO     Contexts were splited into 148 paragraphs, which are 2.792452830188679 paragraphs on average per one report. There are 2 unique topics with frequency threshold (greater or equal) 121. The overall paragraph average length (characters) is 2323.0337837837837
2024-05-11 12:22:50 INFO     datasets are converted to Datset format
Some weights of BertForQuestionAnswering were not initialized from the model checkpoint at ../models/Bio_ClinicalBERT and are newly initialized: ['qa_outputs.bias', 'qa_outputs.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
2024-05-11 12:27:09 INFO     training data are prepared
/home/lanz/.local/lib/python3.10/site-packages/transformers/training_args.py:1463: FutureWarning: `evaluation_strategy` is deprecated and will be removed in version 4.46 of ðŸ¤— Transformers. Use `eval_strategy` instead
  warnings.warn(
2024-05-11 13:50:57 INFO     the model is trained
2024-05-11 13:56:38 INFO     evaluation data are prepared
2024-05-11 15:10:06 INFO     QA scores: {'exact_match': 29.732399811004683, 'f1': 71.0188505135093}
2024-05-11 15:10:06 INFO     PR scores: {'p@1': 0.9840427816674542, 'p@2': 0.9976375585241184, 'p@3': 0.9996348954082729}
2024-05-11 15:10:08 INFO     PRQA scores: {'exact_match': 29.257763841759374, 'f1': 70.60618644380286}
{'loss': 1.0317, 'grad_norm': 4.257564544677734, 'learning_rate': 2.8987034035656403e-05, 'epoch': 0.0337655321447866}
{'loss': 0.6416, 'grad_norm': 11.313770294189453, 'learning_rate': 2.7974068071312804e-05, 'epoch': 0.0675310642895732}
{'loss': 0.5852, 'grad_norm': 14.021465301513672, 'learning_rate': 2.6961102106969206e-05, 'epoch': 0.1012965964343598}
{'loss': 0.5435, 'grad_norm': 7.734715938568115, 'learning_rate': 2.5948136142625608e-05, 'epoch': 0.1350621285791464}
{'loss': 0.4883, 'grad_norm': 5.388554573059082, 'learning_rate': 2.4935170178282013e-05, 'epoch': 0.16882766072393302}
{'loss': 0.4522, 'grad_norm': 12.148846626281738, 'learning_rate': 2.3922204213938412e-05, 'epoch': 0.2025931928687196}
{'loss': 0.4186, 'grad_norm': 10.19623851776123, 'learning_rate': 2.2909238249594814e-05, 'epoch': 0.23635872501350622}
{'loss': 0.4035, 'grad_norm': 12.6615571975708, 'learning_rate': 2.1896272285251216e-05, 'epoch': 0.2701242571582928}
{'loss': 0.3696, 'grad_norm': 9.375421524047852, 'learning_rate': 2.0883306320907617e-05, 'epoch': 0.3038897893030794}
{'loss': 0.3454, 'grad_norm': 10.915068626403809, 'learning_rate': 1.987034035656402e-05, 'epoch': 0.33765532144786603}
{'loss': 0.3338, 'grad_norm': 11.216268539428711, 'learning_rate': 1.885737439222042e-05, 'epoch': 0.37142085359265264}
{'loss': 0.3041, 'grad_norm': 12.97906494140625, 'learning_rate': 1.7844408427876823e-05, 'epoch': 0.4051863857374392}
{'loss': 0.2678, 'grad_norm': 11.302825927734375, 'learning_rate': 1.6831442463533225e-05, 'epoch': 0.4389519178822258}
{'loss': 0.264, 'grad_norm': 15.588749885559082, 'learning_rate': 1.581847649918963e-05, 'epoch': 0.47271745002701243}
{'loss': 0.2392, 'grad_norm': 2.735227346420288, 'learning_rate': 1.4805510534846029e-05, 'epoch': 0.506482982171799}
{'loss': 0.2266, 'grad_norm': 4.335562705993652, 'learning_rate': 1.3792544570502432e-05, 'epoch': 0.5402485143165856}
{'loss': 0.2228, 'grad_norm': 9.076189041137695, 'learning_rate': 1.2779578606158834e-05, 'epoch': 0.5740140464613722}
{'loss': 0.218, 'grad_norm': 0.07438682019710541, 'learning_rate': 1.1766612641815236e-05, 'epoch': 0.6077795786061588}
{'loss': 0.198, 'grad_norm': 7.831179618835449, 'learning_rate': 1.0753646677471636e-05, 'epoch': 0.6415451107509454}
{'loss': 0.1807, 'grad_norm': 5.097092151641846, 'learning_rate': 9.740680713128038e-06, 'epoch': 0.6753106428957321}
{'loss': 0.1811, 'grad_norm': 0.21699455380439758, 'learning_rate': 8.727714748784441e-06, 'epoch': 0.7090761750405187}
{'loss': 0.1851, 'grad_norm': 0.4581291973590851, 'learning_rate': 7.714748784440843e-06, 'epoch': 0.7428417071853053}
{'loss': 0.1573, 'grad_norm': 6.938735485076904, 'learning_rate': 6.701782820097244e-06, 'epoch': 0.7766072393300918}
{'loss': 0.1681, 'grad_norm': 5.029081344604492, 'learning_rate': 5.688816855753647e-06, 'epoch': 0.8103727714748784}
{'loss': 0.1688, 'grad_norm': 5.581597328186035, 'learning_rate': 4.675850891410049e-06, 'epoch': 0.844138303619665}
{'loss': 0.1338, 'grad_norm': 11.492454528808594, 'learning_rate': 3.6628849270664508e-06, 'epoch': 0.8779038357644516}
{'loss': 0.1525, 'grad_norm': 15.44596004486084, 'learning_rate': 2.6499189627228526e-06, 'epoch': 0.9116693679092382}
{'loss': 0.1441, 'grad_norm': 6.291224002838135, 'learning_rate': 1.6369529983792545e-06, 'epoch': 0.9454349000540249}
{'loss': 0.1239, 'grad_norm': 0.014732078649103642, 'learning_rate': 6.239870340356564e-07, 'epoch': 0.9792004321988115}
{'eval_loss': 0.8643367886543274, 'eval_runtime': 1014.6773, 'eval_samples_per_second': 178.613, 'eval_steps_per_second': 0.698, 'epoch': 1.0}
{'train_runtime': 5027.5785, 'train_samples_per_second': 47.123, 'train_steps_per_second': 2.945, 'train_loss': 0.31177977469726104, 'epoch': 1.0}
Post-processing 138930 example predictions split into 440344 features.
{
    "121": {
        "QA": {
            "exact_match": 29.732399811004683,
            "f1": 71.0188505135093
        },
        "PR": {
            "p@1": 0.9840427816674542,
            "p@2": 0.9976375585241184,
            "p@3": 0.9996348954082729
        },
        "PRQA": {
            "exact_match": 29.257763841759374,
            "f1": 70.60618644380286
        }
    }
}
slurmstepd: error: common_file_write_uint32s: write pid 2669979 to /sys/fs/cgroup/cgroup.procs failed: Device or resource busy
slurmstepd: error: Unable to move pid 2669979 to init root cgroup /sys/fs/cgroup
slurmstepd: error: error unlocking cgroup '/sys/fs/cgroup/system.slice/slurmstepd.scope' : Bad file descriptor
